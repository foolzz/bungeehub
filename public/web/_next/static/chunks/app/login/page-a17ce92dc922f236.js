(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{2348:(e,a,t)=>{Promise.resolve().then(t.bind(t,5404))},5404:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>i});var r=t(5155),s=t(2115),n=t(7621);function i(){let[e,a]=(0,s.useState)(""),[t,i]=(0,s.useState)(""),[o,l]=(0,s.useState)(""),[c,d]=(0,s.useState)(!1),m=async a=>{a.preventDefault(),l(""),d(!0);try{let{access_token:a}=(await n.ZQ.login(e,t)).data;localStorage.setItem("token",a);let r=(await n.ZQ.getProfile()).data;"ADMIN"===r.role?window.location.href="/admin":window.location.href="/dashboard"}catch(e){var r,s;l((null==(s=e.response)||null==(r=s.data)?void 0:r.message)||"Login failed. Please try again.")}finally{d(!1)}};return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"}),(0,r.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",(0,r.jsx)("a",{href:"/register",className:"font-medium text-primary-600 hover:text-primary-500",children:"create a new account"})]})]}),(0,r.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:m,children:[o&&(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:o}),(0,r.jsxs)("div",{className:"rounded-md shadow-sm -space-y-px",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),(0,r.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:e,onChange:e=>a(e.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"sr-only",children:"Password"}),(0,r.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Password",value:t,onChange:e=>i(e.target.value)})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),(0,r.jsx)("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),(0,r.jsx)("div",{className:"text-sm",children:(0,r.jsx)("a",{href:"#",className:"font-medium text-primary-600 hover:text-primary-500",children:"Forgot your password?"})})]}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{type:"submit",disabled:c,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50",children:c?"Signing in...":"Sign in"})})]})]})})}},7621:(e,a,t)=>{"use strict";t.d(a,{ZQ:()=>i,bI:()=>o,ic:()=>c,ox:()=>l});var r=t(5125);let s=t(5704).env.NEXT_PUBLIC_API_URL||"http://localhost:8080/api/v1",n=r.A.create({baseURL:s,headers:{"Content-Type":"application/json"}});n.interceptors.request.use(e=>{let a=localStorage.getItem("token");return a&&(e.headers.Authorization="Bearer ".concat(a)),e});let i={login:(e,a)=>n.post("/auth/login",{email:e,password:a}),register:e=>n.post("/auth/register",e),getProfile:()=>n.get("/auth/profile")},o={getAll:()=>n.get("/hubs"),getMyHubs:()=>n.get("/hubs/my-hubs"),getById:e=>n.get("/hubs/".concat(e)),getMetrics:(e,a)=>n.get("/hubs/".concat(e,"/metrics"),{params:{days:a}}),create:e=>n.post("/hubs",e),update:(e,a)=>n.put("/hubs/".concat(e),a)},l={getAll:e=>n.get("/packages",{params:e}),getById:e=>n.get("/packages/".concat(e)),track:e=>n.get("/packages/tracking/".concat(e)),create:e=>n.post("/packages",e),update:(e,a)=>n.put("/packages/".concat(e),a),delete:e=>n.delete("/packages/".concat(e))},c={getDashboard:()=>n.get("/admin/dashboard"),getPendingApplications:(e,a)=>n.get("/admin/applications/pending",{params:{page:e,limit:a}}),getApplicationDetails:e=>n.get("/admin/applications/".concat(e)),reviewApplication:(e,a)=>n.post("/admin/applications/".concat(e,"/review"),a)}}},e=>{e.O(0,[125,441,255,358],()=>e(e.s=2348)),_N_E=e.O()}]);