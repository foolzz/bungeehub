(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[482],{2212:(e,t,s)=>{Promise.resolve().then(s.bind(s,9166))},7621:(e,t,s)=>{"use strict";s.d(t,{ZQ:()=>l,bI:()=>d,ic:()=>n,ox:()=>c});var a=s(5125);let i=s(5704).env.NEXT_PUBLIC_API_URL||"http://localhost:8080/api/v1",r=a.A.create({baseURL:i,headers:{"Content-Type":"application/json"}});r.interceptors.request.use(e=>{let t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e});let l={login:(e,t)=>r.post("/auth/login",{email:e,password:t}),register:e=>r.post("/auth/register",e),getProfile:()=>r.get("/auth/profile")},d={getAll:()=>r.get("/hubs"),getMyHubs:()=>r.get("/hubs/my-hubs"),getById:e=>r.get("/hubs/".concat(e)),getMetrics:(e,t)=>r.get("/hubs/".concat(e,"/metrics"),{params:{days:t}}),create:e=>r.post("/hubs",e),update:(e,t)=>r.put("/hubs/".concat(e),t)},c={getAll:e=>r.get("/packages",{params:e}),getById:e=>r.get("/packages/".concat(e)),track:e=>r.get("/packages/tracking/".concat(e)),create:e=>r.post("/packages",e),update:(e,t)=>r.put("/packages/".concat(e),t),delete:e=>r.delete("/packages/".concat(e))},n={getDashboard:()=>r.get("/admin/dashboard"),getPendingApplications:(e,t)=>r.get("/admin/applications/pending",{params:{page:e,limit:t}}),getApplicationDetails:e=>r.get("/admin/applications/".concat(e)),reviewApplication:(e,t)=>r.post("/admin/applications/".concat(e,"/review"),t)}},9166:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var a=s(5155),i=s(2115),r=s(7621);function l(){var e,t;let[s,l]=(0,i.useState)(null),[d,c]=(0,i.useState)(!0),[n,o]=(0,i.useState)(""),[x,h]=(0,i.useState)("");(0,i.useEffect)(()=>{let e=new URLSearchParams(window.location.search).get("id");e?(h(e),m(e)):(o("No hub ID provided"),c(!1))},[]);let m=async e=>{try{c(!0);let t=await r.bI.getById(e);l(t.data)}catch(e){console.error("Error fetching hub details:",e),o("Failed to load hub details")}finally{c(!1)}};return d?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)("div",{className:"text-xl",children:"Loading hub details..."})}):n||!s?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-xl text-red-600 mb-4",children:n||"Hub not found"}),(0,a.jsx)("a",{href:"/dashboard",className:"bg-primary-600 text-white px-4 py-2 rounded-md hover:bg-primary-700",children:"Back to Dashboard"})]})}):(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"mb-6 flex justify-between items-center",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:s.name}),(0,a.jsx)("a",{href:"/dashboard",className:"bg-gray-200 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-300",children:"Back to Dashboard"})]}),(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Hub Information"}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Address"}),(0,a.jsx)("p",{className:"mt-1 text-gray-900",children:s.address})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Status"}),(0,a.jsx)("p",{className:"mt-1",children:(0,a.jsx)("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded",children:s.status})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Tier"}),(0,a.jsx)("p",{className:"mt-1",children:(0,a.jsx)("span",{className:"px-2 py-1 text-xs bg-purple-100 text-purple-800 rounded",children:null==(e=s.tier)?void 0:e.replace("_"," ")})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Capacity"}),(0,a.jsxs)("p",{className:"mt-1 text-gray-900",children:[s.capacity," packages"]})]}),s.latitude&&s.longitude&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Latitude"}),(0,a.jsx)("p",{className:"mt-1 text-gray-900",children:s.latitude})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Longitude"}),(0,a.jsx)("p",{className:"mt-1 text-gray-900",children:s.longitude})]})]})]})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-3 gap-6 mb-6",children:[(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2 text-gray-700",children:"Total Deliveries"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-primary-600",children:s.totalDeliveries||0})]}),(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2 text-gray-700",children:"Rating"}),(0,a.jsxs)("p",{className:"text-3xl font-bold text-yellow-600",children:["â˜… ",s.rating?parseFloat(s.rating).toFixed(1):"0.0"]})]}),(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2 text-gray-700",children:"Active Packages"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:(null==(t=s._count)?void 0:t.packages)||0})]})]}),(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Quick Actions"}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,a.jsxs)("a",{href:"/packages?hubId=".concat(s.id),className:"block p-4 border-2 border-primary-600 rounded-lg hover:bg-primary-50 transition",children:[(0,a.jsx)("h3",{className:"font-semibold text-primary-600 mb-1",children:"View Packages"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"See all packages assigned to this hub"})]}),(0,a.jsxs)("a",{href:"/hubs/edit?id=".concat(s.id),className:"block p-4 border-2 border-gray-300 rounded-lg hover:bg-gray-50 transition",children:[(0,a.jsx)("h3",{className:"font-semibold mb-1 text-gray-900",children:"Edit Hub"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Update hub information and settings"})]})]})]})]})})}}},e=>{e.O(0,[125,441,255,358],()=>e(e.s=2212)),_N_E=e.O()}]);